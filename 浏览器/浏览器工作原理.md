### 进程vs线程

一个进程就是一个程序的运行实例。详细解释就是，启动一个程序的时候，操作系统会为该程序创建一块内存，用来存放代码、运行中的数据和一个执行任务的主线程，我们把这样的一个运行环境叫进程。
线程是不能单独存在的，它是由进程来启动和管理的。
线程依赖于线程，而进程中使用多线程并行处理能提升运算效率。

### 进程与线程关系的特点
1. 进程中任意一线程执行出错，都会导致整个进程的崩溃
2. 线程之间共享进程之中的数据
3. 当一个进程关闭之后，操作系统会回收进程所占用的内存
4. 进程之间内容互相隔离

### Chrome进程构架

- 浏览器进程。主要负责界面显示、用户交互、子进程管理，同时提供存储等功能。
- 渲染进程。核心任务是将 HTML、CSS 和 JavaScript 转换为用户可以与之交互的网页，排版引擎 Blink 和 JavaScript 引擎 V8 都是运行在该进程中，默认情况下，Chrome 会为每个 Tab 标签创建一个渲染进程。出于安全考虑，渲染进程都是运行在沙箱模式下。
- GPU 进程。其实，Chrome 刚开始发布的时候是没有 GPU 进程的。而 GPU 的使用初衷是为了实现 3D CSS 的效果，只是随后网页、Chrome 的 UI 界面都选择采用 GPU 来绘制，这使得 GPU 成为浏览器普遍的需求。最后，Chrome 在其多进程架构上也引入了 GPU 进程。
- 网络进程。主要负责页面的网络资源加载，之前是作为一个模块运行在浏览器进程里面的，直至最近才独立出来，成为一个单独的进程。
- 插件进程。主要是负责插件的运行，因插件易崩溃，所以需要通过插件进程来隔离，以保证插件进程崩溃不会对浏览器和页面造成影响。

#### 同源策略，跨域

  同源：协议,域名,端口相同
  同源策略是一种安全协议,指浏览器对不同源的脚本或文本的访问方式进行的限制。

#### 跨域，跨域原理，跨域处理方法
- JSONP：
  - 原理是：动态插入script标签，通过script标签引入一个js文件，这个js文件载入成功后会执行我们在url参数中指定的函数，并且会把我们需要的json数据作为参数传入。
  - 优点是兼容性好，简单易用，支持浏览器与服务器双向通信。缺点是只支持GET请求。
  - 加载成功的回调：onload；失败的回调：onerror。
- CORS
  - 后台通过设置Access-Control-Allow-Origin来进行的
  - 必须设置withCredentials为true，否则浏览器不接收也不发送cookie
- nginx反向代理：设置proxy_pass
- node中间件代理
- document.domain：该方法只能用于二级域名相同的情况下
- websocket
- postmessage+iframe：在一个页面中内嵌其他域的页面，可以通过postmessage跨域通信。
